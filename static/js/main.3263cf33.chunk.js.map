{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurentUserContext.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/Api.js","utils/config.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","date","Date","getFullYear","CurrentUserContext","React","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","onCardClick","onCardDelete","type","name","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","slice","map","item","PopupWithForm","isOpen","close","onClose","title","onSubmit","noValidate","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","required","minLength","maxLength","AddPlacePopup","setLink","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","api","config","getInitialCards","fetch","baseUrl","headers","then","res","_getResponseData","addCardPage","method","body","JSON","stringify","getUsersInfo","updateUserInfo","data","removeCard","setLikeCard","unLikeCard","addNewAvatar","ok","json","Promise","reject","status","this","authorization","App","setCards","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","all","user","reverse","catch","err","console","log","Provider","cardNew","filter","c","newCard","newCards","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3263cf33.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"header root__section\">\r\n      <img src={ logo } alt=\"mesto logo\" className=\"logo\"/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\n\nfunction Footer() {\n  const date = new Date();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">{date.getFullYear()} Mesto by Ilya Podolyak</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurentUserContext';\r\n\r\nfunction Card(props) {\r\n  const card = props.card;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `place-card__delete-icon ${isOwn ? 'place-card__delete-icon_visible' : ''}`\r\n  );\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `place-card__like-icon ${isLiked ? 'place-card__like-icon_liked' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(card.link);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <div className=\"place-card\" key={ card._id }>\r\n      <div className=\"place-card__image\" style={{ backgroundImage: `url(${ card.link })` }}\r\n      onClick={ handleClick } />\r\n      <button onClick={ handleDeleteClick } className={ `${ cardDeleteButtonClassName }` } type=\"button\"/>\r\n      <div className=\"place-card__description\">\r\n        <h3 className=\"place-card__name\">{ card.name }</h3>\r\n        <div className=\"place-card__like-container\">\r\n          <button className={ `${ cardLikeButtonClassName }` } onClick={ handleLikeClick } />\r\n          <div className=\"place-card__like-counter\">{ card.likes.length }</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurentUserContext';\r\n// import { SemipolarLoading } from 'react-loadingg';\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // if(!currentUser) {\r\n  //   return (\r\n  //     <SemipolarLoading color=\"#fff\" />\r\n  //   )\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile root__section\">\r\n        <div className=\"user-info\">\r\n          <div className=\"user-info__photo\" onClick={ props.onEditAvatar }\r\n               style={{ backgroundImage: `url(${ currentUser.avatar })` }}/>\r\n          <div className=\"user-info__data\">\r\n            <h1 className=\"user-info__name\">{ currentUser.name }</h1>\r\n            <p className=\"user-info__job\">{ currentUser.about }</p>\r\n            <button className=\"user-info__edit\" onClick={ props.onEditProfile }>Edit</button>\r\n          </div>\r\n          <button className=\"button user-info__button\" onClick={ props.onAddPlace }>+</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"places-list root__section\">\r\n        {props.cards.slice(0, 50).map((item) => (\r\n          <Card\r\n            key={ item._id }\r\n            card={ item }\r\n            onCardDelete={ props.onCardDelete }\r\n            onCardClick={ props.onCardClick }\r\n            onCardLike={ props.onCardLike }\r\n          />\r\n          ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import close from '../images/close.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={ `popup popup_type_${ props.name } ${ props.isOpen }` }>\r\n      <div className=\"popup__content\">\r\n        <img src={ close } alt=\"\"\r\n             className={ `popup__close popup__close_type_${ props.name }` }\r\n             onClick={ props.onClose }\r\n        />\r\n        <h3 className=\"popup__title\">{ props.title }</h3>\r\n        <form className=\"popup__form\" name={ props.name } onSubmit={ props.onSubmit } noValidate>\r\n          { props.children }\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={ props.isOpen ? 'popup_is-opened' : '' }\r\n      onClose={ props.onClose }\r\n      onSubmit={ handleSubmit }\r\n      title='Редактировать профиль'\r\n      name='profile'\r\n      children={\r\n        <>\r\n          <input value={name || ''} onChange={ handleChangeName } id=\"user\" type=\"text\" name=\"user\" className=\"popup__input popup__input_type_user\"\r\n                 placeholder=\"Имя\" required minLength=\"2\" maxLength=\"30\"/>\r\n          <span id=\"user-error\" className=\"error\"/>\r\n          <input value={description || ''} onChange={ handleChangeDescription } id=\"about\" type=\"text\" name=\"about\" className=\"popup__input popup__input_type_about\"\r\n                 placeholder=\"О себе\" required minLength=\"2\" maxLength=\"30\"/>\r\n          <span id=\"about-error\" className=\"error\"/>\r\n          <button type=\"submit\"\r\n                  className=\"button popup__button popup__button_save popup__button_valid\">Сохранить\r\n          </button>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleChangeLink(event) {\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onAddPlace({ name, link });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={ props.isOpen ? 'popup_is-opened' : '' }\r\n      onClose={ props.onClose }\r\n      onSubmit={ handleSubmit }\r\n      title='Новое место'\r\n      name='card'\r\n      children={\r\n        <>\r\n          <input onChange={ handleChangeName } id=\"name\" type=\"text\" name=\"name\" className=\"popup__input popup__input_type_name\"\r\n                 placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\"/>\r\n          <span id=\"name-error\" className=\"error\"/>\r\n          <input onChange={ handleChangeLink } id=\"link\" type=\"url\" name=\"link\" className=\"popup__input popup__input_type_link-url\"\r\n                 placeholder=\"Ссылка на картинку\" required/>\r\n          <span id=\"link-error\" className=\"error\"/>\r\n          <button type=\"submit\" className=\"button popup__button popup__button_add popup__button_valid\">+</button>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={ props.isOpen ? 'popup_is-opened' : '' }\r\n      onClose={ props.onClose }\r\n      onSubmit={ handleSubmit }\r\n      title='Обновить аватар'\r\n      name='avatar'\r\n      children={\r\n        <>\r\n          <input ref={avatarRef} id=\"avatarlink\" type=\"url\" name=\"link\" className=\"popup__input popup__input_type_avatar\"\r\n                 placeholder=\"Ссылка на аватар\" required/>\r\n          <span id=\"avatarlink-error\" className=\"error\"/>\r\n          <button type=\"submit\" className=\"button popup__button popup__button_add-avatar popup__button_valid\">Сохранить\r\n          </button>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import close from '../images/close.svg';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={ (props.card.isOpen ? `popup popup_type_${ props.name } popup_is-opened` : `popup popup_type_${ props.name }`) }>\r\n      <div className=\"popup__image-container\">\r\n        <img src={ close } alt=\"\"\r\n             className=\"popup__close popup__close_type_image\" onClick={ props.onClose }/>\r\n        <img src={ props.card.link } alt=\"\" className=\"popup__image\"/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import config from \"./config\";\r\n\r\nclass Api {\r\n  constructor(config) {\r\n    this.baseUrl = config.baseUrl;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  getInitialCards = () => {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  addCardPage = (card) => {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify(card)\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  getUsersInfo = () => {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  updateUserInfo = (data) => {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  removeCard = id => {\r\n    return fetch(`${this.baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  setLikeCard = id => {\r\n    return fetch(`${this.baseUrl}/cards/like/${id}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  unLikeCard = id => {\r\n    return fetch(`${this.baseUrl}/cards/like/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  addNewAvatar = avatar => {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(avatar)\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  _getResponseData = res => {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\nconst api = new Api(config)\r\nexport default api;\r\n","// const API_URL =\r\n//   NODE_ENV === 'production'\r\n//     ? 'https://nomoreparties.co'\r\n//     : 'http://nomoreparties.co';\r\n\r\nconst config = {\r\n  baseUrl: 'https://nomoreparties.co/cohort11',\r\n  headers: {\r\n    authorization: '3d586cb3-b972-4364-9e4e-d3f459cab5c9',\r\n    'Content-Type': 'application/json'\r\n  }\r\n};\r\n\r\nexport default config;\r\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurentUserContext'\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    link: ''\n  });\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(link) {\n    setSelectedCard({\n      isOpen: true,\n      link: link\n    });\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      link: ''\n    })\n  }\n\n  React.useEffect(() => {\n    Promise.all([api.getUsersInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards.reverse());\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if(!isLiked) {\n      api.setLikeCard(card._id)\n        .then((newCard) => {\n          // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          // Обновляем стейт\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    } else {\n      api.unLikeCard(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        const cardNew = cards.filter((c) => c._id !== card._id)\n        setCards(cardNew)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateUser(data) {\n    api.updateUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar(data) {\n    api.addNewAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCardPage(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"root\">\n      <CurrentUserContext.Provider value={ currentUser }>\n        <Header />\n        <Main\n          cards={ cards }\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n          onCardClick={handleCardClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}